(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{239:function(t,e,r){var content=r(249);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(53).default)("222da9b4",content,!0,{sourceMap:!1})},248:function(t,e,r){"use strict";r(239)},249:function(t,e,r){(e=r(52)(!1)).push([t.i,".pointer[data-v-9f0d259c]{cursor:pointer}.scroll-vertical[data-v-9f0d259c]{overflow-y:scroll}hr[data-v-9f0d259c]{color:#a5a4a4}",""]),t.exports=e},276:function(t,e,r){"use strict";r.r(e);r(70),r(32),r(75),r(24);var o=r(3),n=r(1),l=r(235),c=r.n(l),d=r(238),v=r.n(d),m=(r(236),r(244)),f=r.n(m),x=r(246),h=r.n(x),_=r(247);n.a.use(v.a,f.a);var w=n.a.extend({data:function(){return{loading:!1,nome:"",pagina:1,token:{},taxaAtual:0,series:[1,1,1,1,1],chartOptions:{chart:{type:"polarArea"},labels:["Boletos","Cartão","Em dia","Vencidos","A receber"],fill:{opacity:.8},stroke:{colors:["#fff"]},yaxis:{show:!1},legend:{position:"bottom"},responsive:[{breakpoint:480,options:{}}]},filtro:{dataInicio:"",dataFim:"",tipoPagamento:"0",bairro:0,statusPagamento:"0"},bairro:{nome:""},listaBairros:[],taxa:{valor:""},money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1},relatorioVendas:[]}},components:{apexchart:f.a,Loading:c.a,VueHotelDatepicker:h.a,Money:_.Money},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.obterDadosToken(),e.next=3,t.obterEstatisticas();case 3:case"end":return e.stop()}}),e)})))()},methods:{obterDadosToken:function(){this.token=JSON.parse(sessionStorage.getItem("cdv")),null==this.token||null==this.token.token||null==this.token.token?this.$router.push(name="/"):this.nome=this.token.nome},alterarPagina:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.pagina=t,1!=e.pagina){r.next=6;break}return r.next=4,e.obterEstatisticas();case 4:r.next=9;break;case 6:if(2!=e.pagina){r.next=9;break}return r.next=9,e.obterBairros();case 9:case"end":return r.stop()}}),r)})))()},obterBairros:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("administrador/bairros").then((function(e){t.loading=!1,t.listaBairros=e.data.bairros})).catch((function(e){t.loading=!1}));case 3:case"end":return e.stop()}}),e)})))()},showModal:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(3!=t){r.next=6;break}return r.next=3,e.obterBairros();case 3:e.$modal.show("modal-bairros"),r.next=7;break;case 6:4==t&&(e.obterTaxa(),e.$modal.show("modal-taxa"));case 7:case"end":return r.stop()}}),r)})))()},obterHeader:function(){return{headers:{Authorization:"Bearer "+this.token.token}}},inativarAtivarBairro:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,o=e.obterHeader(),r.next=4,e.$axios.put("administrador/bairros/"+t+"/inativa-ativa",{},o).then((function(t){e.loading=!1,e.obterBairros()})).catch((function(t){e.loading=!1}));case 4:case"end":return r.stop()}}),r)})))()},cadastrarBairro:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.bairro.nome){r.next=5;break}return e.loading=!0,o=e.obterHeader(),r.next=5,e.$axios.post("administrador/bairros",{nome:t},o).then((function(t){e.loading=!1,e.bairro.nome="",e.obterBairros()})).catch((function(t){e.loading=!1}));case 5:case"end":return r.stop()}}),r)})))()},obterTaxa:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,r=t.obterHeader(),e.next=4,t.$axios.get("financeiro/valor-servico",r).then((function(e){t.loading=!1,t.taxaAtual=e.data.valor})).catch((function(e){t.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},atualizarTaxa:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,o=e.obterHeader(),r.next=4,e.$axios.put("financeiro/valor-servico",{valor:t},o).then((function(t){e.loading=!1,e.taxa.valor="",e.obterTaxa()})).catch((function(t){e.loading=!1}));case 4:case"end":return r.stop()}}),r)})))()},obterEstatisticas:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,r=t.obterHeader(),e.next=4,t.$axios.get("administrador/estatisticas",r).then((function(e){t.loading=!1;var r=[e.data.totalBoletos,e.data.totalCartoes,e.data.emDia,e.data.vencidos,e.data.aReceber];t.series=r})).catch((function(e){t.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},filtrarVendas:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,r=t.obterHeader(),e.next=4,t.$axios.get("administrador/vendas/".concat(t.filtro.dataInicio,"/dataInicio/").concat(t.filtro.dataFim,"/dataFim/").concat(t.filtro.bairro,"/bairro/").concat(t.filtro.tipoPagamento,"/tipoPagamento/").concat(t.filtro.statusPagamento,"/statusPagamento"),r).then((function(e){t.loading=!1,t.relatorioVendas=e.data.filtroDeVendas})).catch((function(e){t.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},setRange:function(t){var e=t.start.split("/");this.filtro.dataInicio="".concat(e[2],"-").concat(e[1],"-").concat(e[0]);var r=t.end.split("/");this.filtro.dataFim="".concat(r[2],"-").concat(r[1],"-").concat(r[0])}}}),C=(r(248),r(18)),component=Object(C.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("section",{staticClass:"mb-2 mt-4 bg-green-300"},[r("div",{staticClass:"container mx-auto"},[r("header",{staticClass:"flex flex-row-reverse h-16 pt-4"},[r("div",{staticClass:"flex flex-row-reverse"},[r("label",{staticClass:"pointer h-12 px-4 py-3 mr-2 font-bold text-center capitalize rounded-lg dark:text-white bg-green-200 text-grey-400",on:{click:function(e){return t.showModal(4)}}},[t._v("\n            Taxa Adesão R$\n          ")]),t._v(" "),r("label",{staticClass:"pointer h-12 px-4 py-3 mr-2 font-bold text-center capitalize rounded-lg dark:text-white bg-green-200 text-grey-400",on:{click:function(e){return t.showModal(3)}}},[t._v("\n            Bairros\n          ")]),t._v(" "),r("label",{staticClass:"pointer h-12 px-4 py-3 mr-2 font-bold text-center capitalize rounded-lg dark:text-white bg-green-200 text-grey-400",on:{click:function(e){return t.alterarPagina(2)}}},[t._v("\n            Consultas\n          ")]),t._v(" "),r("label",{staticClass:"pointer h-12 px-4 py-3 mr-2 font-bold text-center capitalize rounded-lg dark:text-white bg-green-200 text-grey-400",attrs:{id:"inicio"},on:{click:function(e){return t.alterarPagina(1)}}},[t._v("\n            Início\n          ")])])])]),t._v(" "),r("div",{staticClass:"container mx-auto p-3"},[r("h1",{staticClass:"mb-4"},[t._v("\n        Bem vindo(a),"),r("strong",[t._v(" "+t._s(t.nome)+".")])]),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"p-3 bg-white rounded-lg shadow"},[1==t.pagina?r("div",{staticClass:"grid ustify-items-start md:justify-items-center mb-2"},[r("strong",[t._v("Estatísticas de Pagamentos das últimas 100 Adesões")]),t._v(" "),r("div",{attrs:{id:"chart-1"}},[r("apexchart",{attrs:{type:"polarArea",width:"500",options:t.chartOptions,series:t.series}})],1)]):t._e(),t._v(" "),2==t.pagina?r("div",{staticClass:"grid ustify-items-start mb-2"},[r("strong",[t._v("Selecione abaixo os filtros para sua pesquisa:")]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"flex items-stretch mt-2"},[r("div",{staticClass:"flex-1 text-start"},[r("label",[t._v("Período de vencimento:")]),r("br"),t._v(" "),r("VueHotelDatepicker",{class:"relative mb-4 w-82 border-2 strong rounded-lg outline border-grey-200 focus-within:border-black",attrs:{id:"date-picker",placeholder:"Selecione um período",format:"DD/MM/YYYY",separator:"até",infoFormat:"DD/MM/YYYY",weekList:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],monthList:["Janeiro-","Fevereiro-","Março-","Abril-","Maio-","Junho-","Julho-","Agosto-","Setembro-","Outubro-","Novembro-","Dezembro-"],fromText:"De",toText:"Até",confirmText:"Confirmar",resetText:"Limpar",minDate:"01/01/2021"},on:{confirm:t.setRange}})],1),t._v(" "),r("div",{staticClass:"flex-1 ml-10 text-start"},[r("label",[t._v("Tipo de pagamento:")]),r("br"),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro.tipoPagamento,expression:"filtro.tipoPagamento"}],staticClass:"relative mb-4 w-36 border-2 p-3 strong rounded-lg outline border-grey-200 focus-within:border-black",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filtro,"tipoPagamento",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[t._v("Ambos")]),t._v(" "),r("option",{attrs:{value:"boleto"}},[t._v("Boleto")]),t._v(" "),r("option",{attrs:{value:"credit_card"}},[t._v("Cartão")])])]),t._v(" "),r("div",{staticClass:"flex-1 text-start"},[r("label",[t._v("Bairro:")]),r("br"),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro.bairro,expression:"filtro.bairro"}],staticClass:"relative mb-4 w-36 border-2 p-3 strong rounded-lg outline border-grey-200 focus-within:border-black",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filtro,"bairro",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[t._v("Todos")]),t._v(" "),t._l(t.listaBairros,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.nome)+"\n                  ")])}))],2)]),t._v(" "),r("div",{staticClass:"flex-1 text-start"},[r("label",[t._v("Status Pagamento:")]),r("br"),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro.statusPagamento,expression:"filtro.statusPagamento"}],staticClass:"relative mb-4 w-36 border-2 p-3 strong rounded-lg outline border-grey-200 focus-within:border-black",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filtro,"statusPagamento",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[t._v("Todos")]),t._v(" "),r("option",{attrs:{value:"CONFIRMED"}},[t._v("Pago")]),t._v(" "),r("option",{attrs:{value:"PENDING"}},[t._v("Aguardando Pagamento")]),t._v(" "),r("option",{attrs:{value:"REFUNDED"}},[t._v("Estornado")]),t._v(" "),r("option",{attrs:{value:"OVERDUE"}},[t._v("Vencida")])])]),t._v(" "),r("div",{staticClass:"flex-1 text-start mt-6"},[r("button",{staticClass:"block h-12 min-h-0 px-10 mx-auto font-bold text-center text-white capitalize rounded shadow-md base-button bg-brand-green",attrs:{type:"button",role:"button"},on:{click:t.filtrarVendas}},[t._v("\n                  Consultar\n                ")])])]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"mt-2"},[r("table",{staticClass:"table-fixed border-collapse bg-green-100 border-shadow"},[t._m(0),t._v(" "),r("tbody",t._l(t.relatorioVendas,(function(e){return r("tr",{key:e},[r("td",{staticClass:"p-1 border border-green-300"},[t._v("\n                      "+t._s(e.cliente)+"\n                    ")]),t._v(" "),r("td",{staticClass:"p-1 border border-green-300"},[t._v("\n                      "+t._s(e.data)+"\n                    ")]),t._v(" "),r("td",{staticClass:"p-1 border border-green-300"},[t._v("\n                      "+t._s("BOLETO"==e.tipoPagamento?"Boleto":"Cartão de Crédito")+"\n                    ")]),t._v(" "),r("td",{staticClass:"p-1 border border-green-300"},[t._v("\n                      "+t._s(e.statusPagamento)+"\n                    ")]),t._v(" "),r("td",{staticClass:"p-1 border border-green-300"},[t._v("\n                      "+t._s("CREDIT_CARD"==e.tipoPagamento?e.data:e.dataPagamento)+"\n                    ")])])})),0)])])]):t._e()])])])]),t._v(" "),r("section",[r("div",[r("modal",{attrs:{name:"modal-bairros",height:600,maxWidth:650,adaptive:!0}},[r("div",{staticClass:"p-8"},[r("h2",{staticClass:"text-start font-bold"},[t._v("Controle de Bairros")]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"flex items-stretch mb-2"},[r("div",{staticClass:"flex-1 text-center"},[r("div",{staticClass:"mt-4 flex items-start relative mb-4 border-2 w-72 rounded-lg outline border-grey-200 focus-within:border-black"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.bairro.nome,expression:"bairro.nome"}],staticClass:"block w-full p-4 text-sm font-bold bg-transparent rounded-lg appearance-none focus:outline-none",attrs:{type:"text",name:"nome",autocomplete:"off",required:"",placeholder:"Bairro"},domProps:{value:t.bairro.nome},on:{input:function(e){e.target.composing||t.$set(t.bairro,"nome",e.target.value)}}}),t._v(" "),r("label",{staticClass:"absolute top-0 p-4 text-sm duration-300 bg-white -z-1 origin-0",attrs:{for:"nome"}},[t._v("Bairro")])])]),t._v(" "),r("div",{staticClass:"flex-1 text-center"},[r("div",{staticClass:"mt-5"},[r("button",{staticClass:"block h-12 px-10 mx-auto font-bold text-center text-white capitalize rounded shadow-md base-button bg-brand-green",attrs:{type:"button",role:"button"},on:{click:function(e){return t.cadastrarBairro(t.bairro.nome)}}},[t._v("\n                  Cadastrar\n                ")])])])]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"mt-2 overflow-y-scroll"},[r("table",{staticClass:"border-collapse bg-green-100 border-shadow"},[r("thead",[r("tr",[r("th",{staticClass:"w-2/6 border border-green-300"},[t._v("Bairro")]),t._v(" "),r("th",{staticClass:"w-2/12 border border-green-300"},[t._v("Status")]),t._v(" "),r("th",{staticClass:"w-2/12 border border-green-300"},[t._v("Ação")])])]),t._v(" "),r("tbody",t._l(t.listaBairros,(function(e){return r("tr",{key:e.id},[r("td",{staticClass:"p-1 border border-green-300"},[t._v("\n                    "+t._s(e.nome)+"\n                  ")]),t._v(" "),r("td",{staticClass:"p-1 border border-green-300"},[t._v("\n                    "+t._s(e.ativo?"Ativo":"Inativo")+"\n                  ")]),t._v(" "),e.ativo?r("td",{staticClass:"p-1 border border-green-300"},[r("button",{staticClass:"block h-6 px-6 mx-auto text-center text-white capitalize rounded shadow-md base-button bg-yellow-500",attrs:{type:"button",role:"button"},on:{click:function(r){return t.inativarAtivarBairro(e.id)}}},[t._v("\n                      Inativar\n                    ")])]):t._e(),t._v(" "),e.ativo?t._e():r("td",{staticClass:"p-1 border border-green-300"},[r("button",{staticClass:"block h-6 px-6 mx-auto text-center text-white capitalize rounded shadow-md base-button bg-brand-green",attrs:{type:"button",role:"button"},on:{click:function(r){return t.inativarAtivarBairro(e.id)}}},[t._v("\n                      Ativar\n                    ")])])])})),0)])])])])],1)]),t._v(" "),r("section",[r("div",[r("modal",{attrs:{name:"modal-taxa",height:300,maxWidth:350,adaptive:!0}},[r("div",{staticClass:"p-8"},[r("h2",{staticClass:"text-start font-bold"},[t._v("Controle da Taxa de Adesão")]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"flex items-stretch mb-2"},[r("div",{staticClass:"flex-1 text-center"},[r("div",{staticClass:"mt-4 w-32 flex items-start relative mb-4 border-2 rounded-lg outline border-grey-200 focus-within:border-black"},[r("money",t._b({staticClass:"block w-32 p-4 text-sm font-bold bg-transparent rounded-lg appearance-none focus:outline-none",attrs:{type:"text",name:"valor",autocomplete:"off",required:"",placeholder:"Valor"},model:{value:t.taxa.valor,callback:function(e){t.$set(t.taxa,"valor",e)},expression:"taxa.valor"}},"money",t.money,!1)),t._v(" "),r("label",{staticClass:"absolute top-0 p-4 text-sm duration-300 bg-white -z-1 origin-0",attrs:{for:"valor"}},[t._v("Taxa")])],1)]),t._v(" "),r("div",{staticClass:"flex-1 text-center"},[r("div",{staticClass:"mt-5"},[r("button",{staticClass:"block h-12 px-5 mx-auto font-bold text-center text-white capitalize rounded shadow-md base-button bg-brand-green",attrs:{type:"button",role:"button"},on:{click:function(e){return t.atualizarTaxa(t.taxa.valor)}}},[t._v("\n                  Atualizar\n                ")])])])]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"mt-8"},[r("label",[t._v("Valor Atual da Taxa:")]),t._v(" "),r("strong",{staticClass:"text-green-500"},[t._v("R$ "+t._s(t.taxaAtual.toLocaleString()))])])])])],1)]),t._v(" "),r("section",[r("div",{staticClass:"vld-parent"},[r("loading",{attrs:{active:t.loading,"can-cancel":!1,"is-full-page":!0},on:{"update:active":function(e){t.loading=e}}})],1)])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{staticClass:"w-2/6 border border-green-300"},[t._v("Cliente")]),t._v(" "),r("th",{staticClass:"w-2/12 border border-green-300"},[t._v("Data")]),t._v(" "),r("th",{staticClass:"w-2/12 border border-green-300"},[t._v("\n                      Tipo Pagamento\n                    ")]),t._v(" "),r("th",{staticClass:"w-56 border border-green-300"},[t._v("\n                      Status Pagamento\n                    ")]),t._v(" "),r("th",{staticClass:"w-48 border border-green-300"},[t._v("\n                      Data Pagamento\n                    ")])])])}],!1,null,"9f0d259c",null);e.default=component.exports}}]);